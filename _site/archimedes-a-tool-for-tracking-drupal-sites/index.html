<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Archimedes - a tool for tracking Drupal Sites &#8211; Some Words Came Out My Head</title>
<meta name="description" content="Did a quick show & tell of Archimedes at Drupal Dunedin & Wellington, here are some notes / links.">
<meta name="keywords" content="drupal, archimedes">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Archimedes - a tool for tracking Drupal Sites">
<meta name="twitter:description" content="Did a quick show & tell of Archimedes at Drupal Dunedin & Wellington, here are some notes / links.">
<meta name="twitter:site" content="@xurizaemon">
<meta name="twitter:creator" content="@xurizaemon">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_NZ">
<meta property="og:type" content="article">
<meta property="og:title" content="Archimedes - a tool for tracking Drupal Sites">
<meta property="og:description" content="Did a quick show & tell of Archimedes at Drupal Dunedin & Wellington, here are some notes / links.">
<meta property="og:url" content="/archimedes-a-tool-for-tracking-drupal-sites/">
<meta property="og:site_name" content="Some Words Came Out My Head">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/archimedes-a-tool-for-tracking-drupal-sites/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Some Words Came Out My Head Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/favicons/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Some Words Came Out My Head</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/posts/" >All The Words</a></li>
				
				    
				        
				    
				    <li><a href="/about/" >And Me</a></li>
				
				    
				        
				    
				    <li><a href="/privacy/" >And You</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    


<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo.jpg" class="bio-photo" alt="Chris Burgess bio photo">


  <h3 itemprop="name">Chris Burgess</h3>
  <p>Thinking about future societies, living in the present. Humane web techno-generator for social change orgs. Believes in stories. Dunedin, NZ</p>
  
  <a href="http://twitter.com/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  
  <a href="http://linkedin.com/in/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  
  <a href="http://github.com/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
  
  <a href="https://keybase.io/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-key"></i> Keybase</a>
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/archimedes-a-tool-for-tracking-drupal-sites/" rel="bookmark" title="Archimedes - a tool for tracking Drupal Sites">Archimedes - a tool for tracking Drupal Sites</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Visited the Drupal Wellington Meetup tonight and did a quick presentation of a couple of integrations we’re using with Archimedes to monitor a network of Drupal sites. Here are my notes on the same, in case anyone wants to look further!</p>

<h2 id="setup">Setup</h2>

<p>Running Archimedes involves setting up an Archimedes server (<a href="https://github.com/xurizaemon/archimedes_server">profile</a>) and installing a copy of the Archimedes module (<a href="https://github.com/xurizaemon/archimedes">module</a>) on each client site. (Run <code>drush pm-update --security-only</code> on the server at a minimum, since I’ve not been updating the modules in the profile. You might also have to add some Bootstrap libs?)</p>

<p>You’ll then need to configure each site by copying the <em>Public Key</em> from the server to each client, and setting the <em>Submission URL</em> to point to the server’s <code>$base_url</code> + <code>/archimedes/update</code>. These details are available from the server at <code>admin/reports/archimedes/settings</code>.</p>

<h2 id="updates">Updates</h2>

<p>Updates will happen daily per default, or whenever you run <code>drush arch-send</code> on the client site. The server cron will process the incoming submissions via Drupal cron, so you may want to run the Archimedes’s server’s cron task frequently when there are updates in the queue - typically early morning.</p>

<h2 id="additional-integrations">Additional Integrations</h2>

<p><strong>I’ll publish more about this shortly</strong>, but we use some additional Drupal Views to expose data over the web to -</p>

<ul>
  <li>Hubot</li>
  <li>Dashing</li>
  <li>Munin</li>
  <li>Nagios</li>
</ul>

<p>Here’s Hubot reporting on which sites use a module, and what versions they have installed. This is helpful on Thursdays, when security updates drop.</p>

<p><img src="/images/hubot-who-uses-coffee.png" alt="Who uses $MODULE?" /></p>

<p>Here’s Dashing telling us the current state of play on a Thursday, after some core and contrib security updates have shipped. We can click on these numbers to see a (protected) View of which sites need attention.</p>

<p><img src="/images/dashing-updates-pending.png" alt="Dashing update notification" /></p>

<p>I don’t have demo images for these, but we also generate Nagios and Munin config snippets from data gathered in Archimedes, and that lets us monitor site outages, track site load times, and graph additional figures like DB size, user registrations and other indicators of site activity.</p>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="https://github.com/xurizaemon/archimedes_server">Archimedes Server</a>, the server profile.</li>
  <li><a href="https://github.com/xurizaemon/archimedes">Archimedes</a>, the client module.</li>
  <li><a href="https://github.com/xurizaemon/archimedes_extras">Archimedes Extras</a>, some additional checks you might want to explore :)</li>
  <li><a href="http://dashing.io/">Dashing</a>, an exceptionally handsome dashboarding toolkit.</li>
  <li><a href="https://hubot.github.com/">Hubot</a>, your personal robot assistant.</li>
  <li><a href="http://munin-monitoring.org/">Munin</a> and  <a href="https://www.nagios.org/">Nagios</a>, tools to monitor your things.</li>
  <li><a href="https://github.com/andyhmltn/frosty-meadow">Frosty Meadow</a>, which I used to bulk-rename our client sites for the purpose of demonstration. I used its <a href="https://github.com/andyhmltn/frosty-meadow/blob/master/lib/data/metal.json">metal mode</a>.</li>
</ul>

<h2 id="credits">Credits</h2>

<p>We did a bit of this work, but Catalyst did most of the work with the release of Archimedes v1, which Josh Waihi presented back in 2010 (?) at Drupal Down Under in Brisbane.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/archimedes-a-tool-for-tracking-drupal-sites/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/archimedes-a-tool-for-tracking-drupal-sites/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/archimedes-a-tool-for-tracking-drupal-sites/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Archimedes - a tool for tracking Drupal Sites</strong> was published on <time datetime="2015-09-01T21:36:06+12:00">September 01, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/blackbird-nestcam-highlights/" title="Nest cam highlights">Nest cam highlights</a></li>
    
      <li><a href="/blackbird-nestcam/" title="Blackbird nest & rPi cam">Blackbird nest & rPi cam</a></li>
    
      <li><a href="/letter-to-santa/" title="Letter to Santa">Letter to Santa</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Chris Burgess, <a href="https://github.com/xurizaemon/chris.bur.gs">source (incl drafts!) here</a>.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-976996-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




</body>
</html>
