<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Blackbird nest & rPi cam &#8211; Some Words Came Out My Head</title>
<meta name="description" content="Now I'm concerned about small critter privacy issues.">
<meta name="keywords" content="">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Blackbird nest & rPi cam">
<meta name="twitter:description" content="Now I'm concerned about small critter privacy issues.">
<meta name="twitter:site" content="@xurizaemon">
<meta name="twitter:creator" content="@xurizaemon">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/blackbird-nestcam.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="en_NZ">
<meta property="og:type" content="article">
<meta property="og:title" content="Blackbird nest & rPi cam">
<meta property="og:description" content="Now I'm concerned about small critter privacy issues.">
<meta property="og:url" content="/blackbird-nestcam/">
<meta property="og:site_name" content="Some Words Came Out My Head">

<meta property="og:image" content="/images/blackbird-nestcam.jpg">






<link rel="canonical" href="/blackbird-nestcam/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Some Words Came Out My Head Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/favicons/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Some Words Came Out My Head</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/posts/" >All The Words</a></li>
				
				    
				        
				    
				    <li><a href="/about/" >And Me</a></li>
				
				    
				        
				    
				    <li><a href="/privacy/" >And You</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->


  <div class="image-wrap">
  <img src=
    
      "/images/blackbird-nestcam.jpg"
    
  alt="Blackbird nest & rPi cam feature image">
  
  </div><!-- /.image-wrap -->


<div id="main" role="main">
  <div class="article-author-side">
    


<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo.jpg" class="bio-photo" alt="Chris Burgess bio photo">


  <h3 itemprop="name">Chris Burgess</h3>
  <p>Thinking about future societies, living in the present. Humane web techno-generator for social change orgs. Believes in stories. Dunedin, NZ</p>
  
  <a href="http://twitter.com/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  
  <a href="http://linkedin.com/in/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  
  <a href="http://github.com/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
  
  <a href="https://keybase.io/xurizaemon" class="author-social" target="_blank"><i class="fa fa-fw fa-key"></i> Keybase</a>
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/blackbird-nestcam/" rel="bookmark" title="Blackbird nest & rPi cam">Blackbird nest & rPi cam</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Outside our bedroom window and beside the front door, a blackbird has nested in the rose bushes. After watching her for a few days at breakfast and saying hello out the bedroom window, we added a nest cam for a better viewpoint.</p>

<iframe width="560" height="315" src="http://www.youtube.com/c/ChrisBurgess/live" frameborder="0" allowfullscreen="" style="border: 1px solid #666; margin-bottom: 20px;"></iframe>

<p><em><a href="https://youtu.be/JKlW9DHOFYg">nest cam on YouTube</a></em></p>

<p>I was cautious about installing the camera, as I thought there were no eggs and had read that birds are more likely to abandon their nesting if they aren’t invested fully. Turned out there were four eggs but the nest was quite deep and they weren’t visible when holding a camera out the window to get a view.</p>

<p>If making any changes near the nest, I’ll watch her from the breakfast table, and get to work with any changes when she breakfasts soon after dawn. She knows we’re here as she can see us in the bedroom window, so I think she’s decided we’re mostly harmless, if noisy.</p>

<p>There was a bit of crawling around in the roof to get a Raspberry Pi within range of the nest, and some small holes drilled - yay for being a homeowner, I can drill where I like! Have to go back up there and wire the Pi power off the porch light so I can remove the extension cable snaking into the laundry ceiling.</p>

<p>The rPi is running Raspbian Jessie, and the camera is a Microsoft HD-3000. From the feel of the base I thought I’d be able to drill mounting holes into the camera, but it turns out the base was steel and broke a drill bit. I make a small wooden mount that the base slots into, so I can affix that to the underside of the eave.</p>

<p>Initially I used <a href="http://www.lavrsen.dk/foswiki/bin/view/Motion/WebHome">Motion</a> to capture the stream, which worked pretty much out of the box. For security &amp; bandwidth reasons I decided to push the stream out to a CDN for viewing, so after a day of Motion I swapped to <code>avconv</code> last night, and am now pushing it to YouTube (hence the embed above).</p>

<p>Since night is too dark to see activity, I’m deactivating the stream from dark (10pm) until dawn (5:30am). Running the <code>avconv</code> stream inside a <code>tmux</code> session to observe output - expected to have to do more to keep it running TBH, since video encoding, but so far it’s fine.</p>

<p>There’s not really a lot of “how to” to this, since it worked out of the box after installing <code>libav-tools</code>. Still I can share the successful results of some trial and error :)</p>

<script src="https://gist.github.com/xurizaemon/e338363d550016bcc8d6.js"></script>

<p><em>Cron entries to start &amp; stop a named tmux session for the stream.</em></p>

<script src="https://gist.github.com/xurizaemon/795f1f8fab9dab448f74.js"></script>

<p><em>Shell script to run the actual encode.</em></p>

<ul>
  <li>YouTube seems to ignore streams without audio, so this adds silent audio channel.</li>
  <li>Submits FLV - YouTube grumbles about “unsupported codec” occasionally in the video manager, but <code>-c:v libx264</code> doesn’t encode efficiently on the Pi. Need to play with this.</li>
</ul>

<p>Pushing off to CDN and back for viewing introduces a short delay, so if I need to adjust the camera I swap back to Motion for a few minutes - it’s much faster for local only delivery. It’s probably possible to run the two side by side.</p>

<p>Quite impressed with what the rPi and cheap camera can do here, and happy that YouTube appear to be offering unlimited free rtmp:// broadcast. I did check out Twitch.tv and Ustream, but found it easier to navigate YouTube’s live broadcast setup than the others.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/blackbird-nestcam/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/blackbird-nestcam/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/blackbird-nestcam/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Blackbird nest & rPi cam</strong> was published on <time datetime="2015-12-05T06:45:00+13:00">December 05, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/thanks-fuzion/" title="I'm leaving Fuzion today!">I'm leaving Fuzion today!</a></li>
    
      <li><a href="/hubot-ssllabs/" title="Hubot SSLLabs">Hubot SSLLabs</a></li>
    
      <li><a href="/civicon-2017/" title="CiviCon 2017 recap">CiviCon 2017 recap</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2017 Chris Burgess, <a href="https://github.com/xurizaemon/chris.bur.gs">source (incl drafts!) here</a>.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-976996-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'xurizaemon'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




</body>
</html>
